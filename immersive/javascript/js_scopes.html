<html>
<head>
  <title>Javascript Scopes</title>
</head>
<body>

<script type="text/javascript">

// -----------------------------------------------------------------------------
// Lexical Scope
// -------------

// Because of closures, a variable is accessible to any inner scope. In other words, 
// if you have a local variable x, any new function declared inside the same scope 
// as x will have access to it. This is called Lexical Scoping.

var createAnnouncer = function (catchphrase) {
  var phrase = catchphrase + '!';
  var result = {
    welcome: function () {
      return 'Welcome, ladies and gents! ' + phrase;
    },
    goodbye: function () {
      return 'Have a good night folks! ' + phrase;
    }
  };
  return result;
};

var announcer = createAnnouncer('Boom Shakalakalaka');
console.log('It begins:', announcer.welcome());
// → It begins: Welcome, ladies and gents! Boom Shakalakalaka!

console.log('It ends:', announcer.goodbye());
// → It ends: Have a good night folks! Boom Shakalakalaka!


// -----------------------------------------------------------------------------
// Partner Review Exercise #1.1
// ----------------------------

window.msg = 'JavaScript is cool!';

var outerFunc = function () {
  var msg = 'JavaScript is not bad.';

  var innerFunc = function () {
    var msg = "It's ok I guess...";
    console.log(msg);
    // → It's ok I guess...                         (first)
  };
  innerFunc();
  console.log(msg);
  // → JavaScript is not bad.                       (second)
};
outerFunc();
console.log(msg);
// → JavaScript is cool!                            (third)

delete window.msg;


// -----------------------------------------------------------------------------
// Partner Review Exercise #1.2
// ----------------------------

var outerFunc2 = function () {
  var msg = "JavasScript is not bad.";

  var innerFunc2 = function () {
    var msg = "It's not bad - it's great!";
    console.log(msg);
    // → It's not bad - it's great!                 (first)
  };
  innerFunc2();
  console.log(msg);
  // → "JavasScript is not bad."                    (second)
};
outerFunc2();
// console.log(msg);
// → Uncaught ReferenceError: msg is not defined    (third)

delete window.msg;


// -----------------------------------------------------------------------------
// Partner Review Exercise #1.3
// ----------------------------

var outerFunc3 = function () {
  msg = "JavasScript is not bad.";

  var innerFunc3 = function () {
    var msg = "It's not bad - it's great!";
    console.log(msg);
    // → It's not bad - it's great!                 (first)
  };
  innerFunc3();
  console.log(msg);
  // → "JavasScript is not bad."                    (second)
};
outerFunc3();
console.log(msg);
// → "JavasScript is not bad."                      (third)

delete window.msg;

</script>
</body>
</html>