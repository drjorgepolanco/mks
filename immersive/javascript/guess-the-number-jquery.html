<html>
<head>
  <title>Guess the Number</title>
</head>
<body>
  <label>Pick a number from 1-100:</label>
  <label class="response"></label>
  <br>
  <input class="user-input" type="text" />
  <input class="submit-button" type="button" value="Guess" />
  <input class="clear-button" type="button" value="Clear" />
  <input class="new-game-button" type="button" value="New Game" />
  <br>
  <label>Tries:</label>
  <label class="tries"></label>
  <br>
  <label>Total Games Won:</label>
  <label class="wins"></label>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script type="text/javascript">

/*
  GUESS THE NUMBER
  ================

  - Generate and stores a secret, random number
  - Prompt the user for a number between 1 and 100
  - Respond to the user's number:
    - If higher, it says to pick lower
    - If lower, it says to pick higher
  - Repeat steps 2 and 3 until the user picks the correct number
  - Congratulate the user when they win!

  jQuery
  ------
  - Convert your exercise from above to use the html page, without using alert or prompt.
  - Add a button that starts a new game. It should:
  - Generate a new secret number
  - Clear the value of the text box
  - Display a message that a new game has started
*/

  
  var secret = parseInt(Math.random() * 100, 10) + 1;
  var tries = 1;
  var wins = 0;

  function repeat() {
    $(".tries").text(tries);
    tries += 1;
    $(".user-input").focus();
  };

  function guess() {
    $(".user-input").focus();
    $(".submit-button").on('click', function(e) {
      var number = $(".user-input").val();
      if (!isNaN(number)) {
        if (number > 100 || number < 1) {
          $(".response").text("The number needs to be between 1 and 100.");
          repeat();
        }
        else {
          if (number > secret) {
            $(".response").text("Pick lower");
            repeat();
          }
          else if (number < secret) {
            $(".response").text("Pick higher");
            repeat();
          }
          else {
            $(".response").text("Congratulations! You win after " + (tries - 1) + " tries!");
            wins += 1;
            $(".wins").text(wins);
          }
        }
      }
      else {
        $(".response").text("That's not a number!");
        repeat();
      }
    });
  };
  guess();

  $(".clear-button").on("click", function() {
    $(".response").text("");
    $(".user-input").val("");
    $(".user-input").focus();
  });

  $(".new-game-button").on("click", function() {
    alert("New Game Started!");
    tries = 1;
    $(".user-input").val("");
    $(".response").text("");
    $(".tries").text("");
    secret = parseInt(Math.random() * 100, 10) + 1;
  });
  

</script>
</body>
</html>