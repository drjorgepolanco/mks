<html>
<head>
  <title>Guess the Number</title>
</head>
<body>
<script type="text/javascript">
  var secret = Math.ceil(Math.random() * 100);
  var counter = 0;

  function repeat() {
    counter += 1;
    guess();
  }

  function guess() {
    var number = prompt("Please, write a number between 1 and 100:");
    if (!isNaN(number)) {
      if (number > 100 || number < 1) {
        console.log("The number needs to be between 1 and 100.")
        repeat();
      }
      else {
        if (number > secret) {
          alert("Pick lower");
          repeat();
        }
        else if (number < secret) {
          alert("Pick higher");
          repeat();
        }
        else {
          alert("Congratulations! You win after " + counter + " tries!");
        }
      }
    }
    else {
      alert("That's not a number!");
      repeat();
    }
  };

  guess();
  

</script>
</body>
</html>